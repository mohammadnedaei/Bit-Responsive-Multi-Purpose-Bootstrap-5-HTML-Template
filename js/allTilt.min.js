/**
 * allTilt.js
 * Author: Bastian FieÃŸinger
 * Version: 1.0.0
 */
"use strict";HTMLElement.prototype.allTilt=function(t){void 0===t&&(t={});"auto"==(t=(t=>{let e={max:14,inverted:!1,perspective:"auto",transitionDuration:400,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,ambientLightning:!0,maxLightning:0,axis:"both",content3D:{enabled:!1,position:"auto",intensity:"auto"}},n={},i=(i,a,o)=>{if(null!=a&&null==n[i]&&(n[i]={}),this.hasAttribute("data-tilt-"+o)){let t=this.getAttribute("data-tilt-"+o);try{null==a?n[i]=JSON.parse(t):n[i][a]=JSON.parse(t)}catch(e){null==a?n[i]=t:n[i][a]=t}}else i in t?null==a?n[i]=t[i]:n[i][a]=t[i][a]:null==a?n[i]=e[i]:n[i][a]=e[i][a]};return Object.keys(e).map(t=>{"object"==typeof e[t]?Object.keys(e[t]).map(e=>{i(t,e,t+"-"+e)}):i(t,null,t)}),n})(t)).perspective&&(t.perspective=2*Math.max(this.getBoundingClientRect().width,this.getBoundingClientRect().height));const e="perspective("+t.perspective+"px) rotateX(0) rotateY(0)",n=function(n,i){const a=n.style;a.position="relative",a.transform=e,a.willChange="transform";const o=n.getBoundingClientRect();if(t.content3D.enabled){n.style.transformStyle="preserve-3D";const e=t.content3D,a=n.querySelector(".alltilt-inner-viewbox")||document.createElement("div");a.className="alltilt-inner-viewbox";const s=a.querySelector(".alltilt-inner")||document.createElement("div");s.className="alltilt-inner","auto"==e.intensity&&(e.intensity=Math.min(o.width,o.height)/2);let r="translateZ("+e.intensity+"px)",l={0:null,1:null};if(Array.isArray(e.position))l[0]=e.position[0],l[1]=e.position[1];else if("auto"==e.position)l[0]=50,l[1]=50;else{e.position.split(" ").forEach(function(t,e){const n=t.slice(-1);isNaN(t)?"%"==n?(t=t.slice(0,-1),l[e]=parseInt(t)):"top"==t||"left"==t?l[e]=0:"center"==t?l[e]=50:"bottom"!=t&&"right"!=t||(l[e]=100):l[e]=parseInt(t)})}(null==l[0]||null==l[1]||isNaN(l[0])||isNaN(l[1]))&&(console.warn('The value "'+e.position+'" is not allowed for position! You can use integers, "X%", or keywords like "center", "top" or "right" instead. Usage: "valTop valLeft".'),l[0]=50,l[1]=50),r+=" translateY(-50%) translateX(-50%)";const c=a.style;c.position="relative",c.width=o.width+"px",c.height=o.height+"px",n.style.padding=0;const m=s.style;m.position="absolute",m.top=l[0]+"%",m.left=l[1]+"%",m.webkitTransform=r,m.MozTransform=r,m.msTransform=r,m.OTransform=r,m.transform=r;const h=Array.from(n.children);i&&(n.appendChild(a),a.appendChild(s),h.forEach(function(t,e){s.appendChild(t)}))}if(t.ambientLightning){const t=n.querySelector(".alltilt-ambient-lightning-container")||document.createElement("div");t.className="alltilt-ambient-lightning-container";const e=t.style;e.width=o.width+"px",e.height=o.height+"px",e.position="absolute",e.left=0,e.top=0,e.overflow="hidden",e.pointerevents="none",n.appendChild(t);const i=t.querySelector(".alltilt-ambient-lightning")||document.createElement("div");i.className="alltilt-ambient-lightning";const a="rotate(180deg) translate(-50%, -50%)",s=i.style;s.background="linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",s.position="absolute",s.top="50%",s.left="50%",s.webkitTransform=a,s.MozTransform=a,s.msTransform=a,s.OTransform=a,s.transform=a,s.transformOrigin="50% 50%",s.opacity=0,t.appendChild(i)}},i=function(){this.values=function(e){const n=this.getBoundingClientRect(),i=e.clientX,a=e.clientY,o=i-n.x,s=a-n.y,r=n.width,l=n.height;let c=2*(Math.round(-o/r*100)+50),m=2*(Math.round(-s/l*100)+50);return t.inverted&&(c*=-1,m*=-1),{clientX:i,clientY:a,elemX:o,elemY:s,elemH:l,elemW:r,ambientAngle:Math.atan2(s,o)*(360/Math.PI),ambientOpacity:Math.min(Math.max(m*t.maxLightning/100,0),t.maxLightning),degX:Math.min(Math.max(m*(t.max/100),-1*t.max),t.max),degY:Math.min(Math.max(c*(t.max/100),-1*t.max),t.max)}}.call(this,event),a(this,this.values)},a=function(e,n){let i="perspective("+t.perspective+"px)";if("x"==t.axis?i+=" rotateY("+n.degY+"deg)":"y"==t.axis?i+="rotateX("+n.degX+"deg)":i+="rotateX("+n.degX+"deg) rotateY("+n.degY+"deg)",t.scale&&!isNaN(t.scale)?i+=" scale3d("+t.scale+","+t.scale+",1)":i+=" scale3d(1,1,1)",e.style.webkitTransform=i,e.style.MozTransform=i,e.style.msTransform=i,e.style.OTransform=i,e.style.transform=i,t.ambientLightning){const t=e.querySelector(".alltilt-ambient-lightning"),a=Math.max(n.elemH,n.elemW),o=t.style,s="translate(-50%, -50%) rotate("+n.ambientAngle+"deg)";o.width=2*a+"px",o.height=2*a+"px",o.webkitTransform=i,o.MozTransform=i,o.msTransform=i,o.OTransform=i,o.transform=s,o.opacity=n.ambientOpacity}},o=function(){const e=this;if(t.ambientLightning){e.querySelector(".alltilt-ambient-lightning").style.transition="opacity "+t.transitionDuration+"ms "+t.easing}e.style.transition="transform "+t.transitionDuration+"ms "+t.easing,setTimeout(function(){e.style.removeProperty("transition"),t.ambientLightning&&e.querySelector(".alltilt-ambient-lightning").style.removeProperty("transition")},t.transitionDuration)},s=function(){const n=this.style;n.transition="transform "+t.transitionDuration+"ms ease-in-out",n.webkitTransform=e,n.MozTransform=e,n.msTransform=e,n.OTransform=e,n.transform=e,t.ambientLightning&&(this.querySelector(".alltilt-ambient-lightning").style.transition="opacity "+t.transitionDuration+"ms ease-in-out",this.querySelector(".alltilt-ambient-lightning").style.opacity=0)};function r(t){var e,n=t.changedTouches[0];switch(t.type){case"touchstart":e="mouseenter";break;case"touchmove":e="mousemove";break;case"touchcancel":case"touchend":e="mouseleave";break;default:return}var i=document.createEvent("MouseEvent");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(i),t.preventDefault()}this.init=(()=>{(function(t){const e=this;n(e,!0),window.addEventListener("resize",function(t){n(e,!1)}),e.addEventListener("mouseenter",o),e.addEventListener("mousemove",i),e.addEventListener("mouseleave",s),e.addEventListener("touchstart",r,!0),e.addEventListener("touchmove",r,!0),e.addEventListener("touchend",r,!0),e.addEventListener("touchcancel",r,!0)}).call(this)}),this.init()},document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".tilt").forEach(t=>{t.allTilt()})});